<dom-module id="malavv-infobar">

  <style>
  :host {
    @apply(--layout-vertical);
  };
  
  :host #topCard {
    height: 160px;
    display: block;
    font-family: 'Roboto', sans-serif;
    font-weight: 400;
    /*background-image: url('../../img/internal/me_muhc_weird2.jpg');*/
    background-size: 160px 160px;
    background-repeat: no-repeat;
    background-color: #272822;
    background-image: var(--me-mainCard-img);
  };

  :host .panel {
    @apply(--layout-vertical);
    @apply(--layout-center);
    float: right;
    width: 175px;
    height: 100%;
  }

  :host .panel .name {
    font-size: 1.5em;
    font-weight: 300;
    padding-top: 11px;
    color: #cdcdcd;
  }

  :host .panel .workTitle {
    font-size: 1em;
    color: #939393;
  }
  :host .panel .handle {
    @apply(--layout-horizontal);
    @apply(--layout-end);
    @apply(--layout-flex);
    font-size: 1.5em;
    color: #3289C8;
    font-weight: bold;
    padding-bottom: 10px;
  }
  :host .panel .handle > img {
    height: 30px;
    width: 30px;
    padding-bottom: 6px;
    padding-right: 6px;
  }
  :host .panel .handle > span {}:host .panel {
    height: 100%;
    width: 175px;
    float: right;
  }

  #controls {
    @apply(--layout-vertical);
    @apply(--layout-flex);
    display: block;
    position: relative;
    @apply(--shadow-elevation-4dp);
  }
  .control {
    @apply(--layout-flex); 
  }
  iron-image {
    width: 120px;
  }
  </style>

  <template>
    <paper-material elevation="1">
      <div id="topCard">
        <div class="panel">
          <div class="name">{{name}}</div>
          <div class="workTitle">{{workTitle}}</div>
          <div class="handle" class="layout horizontal flex">
            <img src="../../img/internal/profile.png" />
            <span>{{handle}}</span>
          </div>
        </div>
      </div>
    </paper-material>
    <div id="controls">
      <malavv-control icon="malavv-icons:email" size="100" label="Email" on-tap="onEmailCtrl" class="control"></malavv-control>
      <malavv-control icon="malavv-icons:card" size="100" label="vCard" on-tap="onVCardCtrl" class="control"></malavv-control>
      <malavv-control icon="malavv-icons:resume" size="100" label="Resume" on-tap="onResumeCtrl" class="control"></malavv-control>
      <malavv-control icon="malavv-icons:papers" size="100" label="Publications" on-tap="onPublicationsCtrl" class="control"></malavv-control>
      <malavv-control icon="malavv-icons:wiki" size="100" label="Wiki" on-tap="onWikiCtrl" class="control"></malavv-control>
    </div>
  </template>

  <script>
    Polymer({
      is: 'malavv-infobar',
      properties: {
        img: {
          type: String,
          observer: 'imgHandler'
        },
        name: { 
          type: String,
          value: 'Maxime Lavigne'
        },
        workTitle: { 
          type: String,
          value: 'Software Engineer'
        },
        handle: { 
          type: String,
          value: 'malavv'
        }
      },
      imgHandler: function() {
        this.customStyle['--me-mainCard-img'] = 'url(' + this.img + ')';
        this.updateStyles();
      },
      onEmailCtrl: function() {
        window.top.location.href = "mailto:maxime.lavigne@mail.mcgill.ca";
      },
      onVCardCtrl: function() {
        window.top.location.href = "https://www.linkedin.com/profile/view?id=50640870";
      },
      onResumeCtrl: function() {
        window.top.location.href = "data/2013-11-17.pdf";
      },
      onPublicationsCtrl: function() {
        window.top.location.href = "https://www.researchgate.net/profile/Maxime_Lavigne";
      },
      onWikiCtrl: function() {
        window.top.location.href = "http://step.polymtl.ca/~Balls/wiki/index.php?title=Main_Page";
      }
    });
  </script>

</dom-module>